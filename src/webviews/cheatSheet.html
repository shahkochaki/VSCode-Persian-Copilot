<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ฺุช ุดุชโูุง</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- ุงุณุชุงูโูุง ูุดุชุฑฺฉ -->
    <link rel="stylesheet" href="assets/css/common.css" />
    <!-- ุงุณุชุงูโูุง ุงุฎุชุตุงุต -->
    <link rel="stylesheet" href="assets/css/cheatSheet.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
          "
        >
          <h1 style="margin: 0">๐ ฺุช ุดุชโูุง</h1>
          <button
            id="addCheatSheetBtn"
            class="auth-button primary"
            style="display: none"
            onclick="openCheatSheetModal()"
          >
            โ ุงูุฒูุฏู ฺุช ุดุช
          </button>
        </div>
        <p id="headerDescription">
          ูุฌููุนูโุง ุงุฒ ฺุช ุดุชโูุง ููุฏ ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู
        </p>

        <!-- Search and Filter Section -->
        <div class="search-filter-section">
          <div class="search-container">
            <input
              type="text"
              id="searchInput"
              placeholder="ุฌุณุชุฌู ุฏุฑ ฺุช ุดุชโูุง..."
            />
            <button id="searchBtn">๐</button>
          </div>
          <div class="filter-container">
            <select id="categoryFilter">
              <option value="">ููู ุฏุณุชูโุจูุฏโูุง</option>
            </select>
            <select id="typeFilter">
              <option value="all">ููู ฺุช ุดุชโูุง</option>
              <option value="public">ุนููู</option>
              <option value="my" id="myFilter" style="display: none">
                ฺุช ุดุชโูุง ูู
              </option>
            </select>
          </div>
        </div>
      </div>

      <div id="loadingSection" class="loading">
        <div>ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ฺุช ุดุชโูุง...</div>
      </div>

      <div id="errorSection" class="error" style="display: none">
        <div>โ ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ฺุช ุดุชโูุง</div>
        <div id="errorMessage"></div>
        <button class="retry-button" onclick="loadCheatSheets()">
          ุชูุงุด ูุฌุฏุฏ
        </button>
      </div>

      <div id="cheatSheetsSection" style="display: none">
        <div id="cheatSheetsGrid" class="cheat-sheet-grid">
          <!-- Cheat sheets will be populated here -->
        </div>
      </div>

      <div id="cheatSheetDetail" class="cheat-sheet-detail">
        <button class="back-button" onclick="showCheatSheetsList()">
          โ ุจุงุฒฺฏุดุช ุจู ูุณุช
        </button>
        <div class="detail-header">
          <div id="detailTitle" class="detail-title"></div>
          <div id="detailDescription" class="detail-description"></div>
          <div id="detailOwner" class="detail-owner"></div>
        </div>
        <div id="itemsContainer" class="items-container">
          <!-- Items will be populated here -->
        </div>
      </div>

      <!-- Create/Edit CheatSheet Modal -->
      <div id="cheatSheetModal" class="modal">
        <div class="modal-content" style="max-width: 600px">
          <div class="modal-header">
            <h2 id="cheatSheetModalTitle">ุงุฌุงุฏ ฺุช ุดุช ุฌุฏุฏ</h2>
          </div>
          <form id="cheatSheetForm">
            <div class="form-group">
              <label for="cheatSheetTitle">ุนููุงู:</label>
              <input type="text" id="cheatSheetTitle" required />
            </div>
            <div class="form-group">
              <label for="cheatSheetDescription">ุชูุถุญุงุช:</label>
              <textarea id="cheatSheetDescription" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="cheatSheetCategory">ุฏุณุชูโุจูุฏ:</label>
              <input type="text" id="cheatSheetCategory" />
            </div>
            <div class="form-group">
              <label>
                <input type="checkbox" id="cheatSheetPublic" />
                ฺุช ุดุช ุนููู ุจุงุดุฏ
              </label>
            </div>
            <div
              id="cheatSheetError"
              class="error-message"
              style="display: none"
            ></div>
            <div class="modal-actions">
              <button type="submit" class="btn-primary">ุฐุฎุฑู</button>
              <button
                type="button"
                class="btn-secondary"
                onclick="closeModal('cheatSheetModal')"
              >
                ุงูุตุฑุงู
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Create/Edit Item Modal -->
      <div id="itemModal" class="modal">
        <div class="modal-content" style="max-width: 700px">
          <div class="modal-header">
            <h2 id="itemModalTitle">ุงูุฒูุฏู ุขุชู ุฌุฏุฏ</h2>
          </div>
          <form id="itemForm">
            <div class="form-group">
              <label for="itemTitle">ุนููุงู ุขุชู:</label>
              <input type="text" id="itemTitle" required />
            </div>
            <div class="form-group">
              <label for="itemContent">ุชูุถุญุงุช:</label>
              <textarea id="itemContent" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="itemCodeExample">ูุซุงู ฺฉุฏ:</label>
              <textarea
                id="itemCodeExample"
                rows="6"
                style="
                  font-family: 'Courier New', monospace;
                  direction: ltr;
                  text-align: left;
                "
              ></textarea>
            </div>
            <div class="form-group">
              <label for="itemCategory">ุฏุณุชูโุจูุฏ ุขุชู:</label>
              <input type="text" id="itemCategory" />
            </div>
            <div class="form-group">
              <label for="itemOrderIndex">ุชุฑุชุจ ููุงุด:</label>
              <input type="number" id="itemOrderIndex" min="0" step="1" />
            </div>
            <div
              id="itemError"
              class="error-message"
              style="display: none"
            ></div>
            <div class="modal-actions">
              <button type="submit" class="btn-primary">ุฐุฎุฑู</button>
              <button
                type="button"
                class="btn-secondary"
                onclick="closeModal('itemModal')"
              >
                ุงูุตุฑุงู
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- JavaScript ูุดุชุฑฺฉ -->
    <script src="assets/js/common.js"></script>
    <!-- JavaScript ุงุฎุชุตุงุต -->
    <script src="assets/js/cheatSheet.js"></script>
  </body>
</html>
